(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[243],{2243:function(t,n,e){"use strict";e.d(n,{$Q:function(){return _},gN:function(){return C},fP:function(){return b},lv:function(){return N},PK:function(){return k}});var o=e(5893),r=e(7294),i=e(5386),a=e(1664),s=e(1965),u=e.n(s),c=e(2861),l=e.n(c);function d(){return(d=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}).apply(this,arguments)}var f=r.createElement("path",{d:"M2 2l18 18M2 20L20 2",stroke:"#fff",strokeWidth:4,strokeLinejoin:"round"});var h=function(t){return r.createElement("svg",d({width:22,height:22,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),f)},p=e(4184),m=e.n(p);function v(){return(v=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t}).apply(this,arguments)}var g=r.createElement("path",{d:"M11 1.5l-5.5 7-4-3.5",stroke:"#fff",strokeWidth:2});var x=function(t){return r.createElement("svg",v({width:12,height:10,fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),g)},w=e(1176),y=e.n(w);function _(){var t=(0,r.useState)(""),n=t[0],e=t[1];return(0,r.useEffect)((function(){return e((0,i.ej)("username"))}),[]),(0,o.jsxs)("div",{className:"w-full bg-gray-800 absolute top-0 left-0 flex flex-row flex-start items-center",children:[(0,o.jsx)(a.default,{href:"/todo",children:(0,o.jsx)("a",{className:"m-1 ml-2 text-white text-2xl",children:"To-Do"})}),(0,o.jsx)("a",{href:"../../todo_admin",className:"m-1 ml-10 text-white text-lg"+("admin"===n?"":" hidden"),children:"Admin Panel"}),(0,o.jsx)(a.default,{href:"/account",children:(0,o.jsx)("a",{className:"m-1 ml-10 text-white text-lg",children:"Account"})})]})}function j(t,n,e,o){""!==t&&((0,i.IH)(t,e,o),n(""))}function b(t){var n=(0,r.useState)(""),e=n[0],a=n[1];return(0,o.jsxs)("div",{className:u().inputWrapper,children:[(0,o.jsx)("input",{value:e,onChange:function(t){(0,i.HB)(t,a)},onKeyDown:function(n){13===n.keyCode&&j(e,a,t.todos,t.setTodos)},className:u().input,type:"text",placeholder:"Write a new task"}),(0,o.jsx)("button",{onClick:function(){j(e,a,t.todos,t.setTodos)},className:u().button,children:"Add"})]})}function N(){return(0,o.jsx)("div",{className:"text-center mt-1",children:(0,o.jsx)("button",{onClick:function(){(0,i.w7)()},className:"simple-button",children:"Sign Out"})})}function k(t){return(0,o.jsxs)("div",{className:l().todo,children:[(0,o.jsxs)("div",{onClick:function(){(0,i.Jq)(t.i,t.todos,t.setTodos)},className:l().todoLeft,children:[(0,o.jsx)(O,{finished:t.item.done}),t.item.text]}),(0,o.jsx)("div",{className:l().todoRight,onClick:function(){(0,i.Od)(t.i,t.todos,t.setTodos)},children:(0,o.jsx)(h,{className:l().todoX})})]})}function O(t){return(0,o.jsx)("div",{className:m()(l().status,t.finished&&l().statusDone),children:t.finished&&(0,o.jsx)(x,{})})}function C(t){return(0,o.jsxs)("div",{className:y().wrapper+" "+t.className,children:[(0,o.jsx)("div",{className:y().name,children:t.name}),(0,o.jsx)("input",{onChange:function(n){return(0,i.HB)(n,t.setValue)},type:t.type,value:t.value,className:y().input})]})}},7689:function(t,n,e){"use strict";e.d(n,{YZ:function(){return o}});var o="https://vps.scratchyone.com/todo/todo"},5386:function(t,n,e){"use strict";e.d(n,{ej:function(){return h},d8:function(){return p},j7:function(){return m},HB:function(){return v},a_:function(){return g},w7:function(){return w},Jq:function(){return y},Od:function(){return _},IH:function(){return j},Cp:function(){return N}});var o=e(8520),r=e.n(o),i=e(7689),a=e(9894),s=e(6455),u=e.n(s),c=e(1955);function l(t,n,e,o,r,i,a){try{var s=t[i](a),u=s.value}catch(c){return void e(c)}s.done?n(u):Promise.resolve(u).then(o,r)}function d(t){return function(){var n=this,e=arguments;return new Promise((function(o,r){var i=t.apply(n,e);function a(t){l(i,o,r,a,s,"next",t)}function s(t){l(i,o,r,a,s,"throw",t)}a(void 0)}))}}function f(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(t){return c.Z.get(t)}function p(t,n,e){c.Z.set(t,n,{expires:e||100,path:"/"})}function m(){var t=["Example","Person","Name","User","Guy","Username","Cat","Dog"],n=["Man","24","65","Cool","Neat","27","99","102","Dude"];return t[Math.floor(Math.random()*t.length)]+n[Math.floor(Math.random()*n.length)]}function v(t,n){n(t.target.value)}function g(t){return x.apply(this,arguments)}function x(){return(x=d(r().mark((function t(n){var e,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(i.YZ+"/me",{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({token:n})});case 3:return e=t.sent,t.next=6,e.json();case 6:if((o=t.sent).error){t.next=12;break}return console.log(o),t.abrupt("return",!0);case 12:return console.log(o),t.abrupt("return",!1);case 14:t.next=19;break;case 16:return t.prev=16,t.t0=t.catch(0),t.abrupt("return",!1);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})))).apply(this,arguments)}function w(){fetch(i.YZ+"/logout",{method:"POST",headers:{"content-type":"application/json",authorization:"Basic Og=="},body:JSON.stringify({username:h("username"),token:h("token")})}).then((function(t){t.json().then((function(t){console.log(t),location.reload()}))})).catch((function(t){console.log(t)}))}function y(t,n,e){var o=n;o[t].done=!o[t].done,e(f(o)),b("done",o[t].id,"",o[t].done)}function _(t,n,e){var o=n,r=o[t].id;o.splice(t,1),e(f(o)),b("remove",r,"",!1)}function j(t,n,e){var o=n,r=(0,a.Z)();o.push({text:t,done:!1,id:r,bold:!1}),e(f(o)),b("add",r,t,!1)}function b(t,n,e,o){fetch(i.YZ+"/update",{method:"POST",headers:{"content-type":"application/json",authorization:"Basic Og=="},body:JSON.stringify({username:h("username"),token:h("token"),action:t,id:n,text:e,done:o})}).then((function(t){})).catch((function(t){console.log(t)}))}function N(){u().fire({title:"Enter new password",input:"password",inputValue:"",showCancelButton:!0,inputValidator:function(t){if(!t)return"You need to write something!"}}).then((function(t){t.value&&u().fire({title:"Enter password again",input:"password",inputValue:"",showCancelButton:!0,inputValidator:function(t){if(!t)return"You need to write something!"}}).then((function(n){n.value===t.value?(console.log(t.value),fetch(i.YZ+"/change_password",{method:"POST",headers:{"content-type":"application/json",authorization:"Basic Og=="},body:JSON.stringify({username:h("username"),token:h("token"),password:t.value})}).then((function(t){t.json().then((function(t){console.log(t),t.error?u().fire("Error!",t.error_message,"error"):u().fire("Changed!","Your password has been changed, and you have been logged out on all devices.","success").then((function(){return location.reload()}))}))})).catch((function(t){console.log(t)}))):u().fire("Passwords don't match","Your passwords don't match!","error")}))}))}},1176:function(t){t.exports={name:"Field_name__SrPOe",input:"Field_input__6lCsS"}},1965:function(t){t.exports={button:"ItemInput_button__F4ar_",input:"ItemInput_input__wDECT",inputWrapper:"ItemInput_inputWrapper__7CoxS"}},2861:function(t){t.exports={todo:"TodoItem_todo__CSRTo",todoLeft:"TodoItem_todoLeft__0rQrX",todoRight:"TodoItem_todoRight__IzF7y",status:"TodoItem_status__yWvM9",statusDone:"TodoItem_statusDone__2o_PS"}}}]);