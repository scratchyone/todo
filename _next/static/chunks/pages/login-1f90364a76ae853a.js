(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{4917:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(8686)}])},8686:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var s=n(5893),a=n(5386),o=n(7294),u=n(7689),r=n(2243),c=n(9008),i=n(1163),l=n(1664),d=n(8195),h=n.n(d);function _(){(0,o.useEffect)((function(){i.default.prefetch("/todo"),(0,a.a_)((0,a.ej)("token")).then((function(e){e&&i.default.push("/todo")}))}),[]);(0,o.useState)((0,a.j7)())[0],(0,o.useState)("\u2022".repeat(Math.floor(5*Math.random()+5)))[0];var e=(0,o.useState)(""),t=e[0],n=e[1],d=(0,o.useState)(""),_=d[0],f=d[1],p=(0,o.useState)(""),m=p[0],N=p[1];return(0,s.jsxs)("div",{className:h().app,children:[(0,s.jsx)(c.default,{children:(0,s.jsx)("title",{children:"Welcome back"})}),(0,s.jsx)("h1",{className:h().header,children:"Welcome back"}),(0,s.jsxs)("div",{className:h().subtitle,children:["Don't have an account? ",(0,s.jsx)(l.default,{href:"/",children:"Sign Up"})]}),(0,s.jsx)(r.gN,{value:t,setValue:n,type:"text",name:"Username",className:h().input}),(0,s.jsx)(r.gN,{value:_,setValue:f,type:"password",name:"Password",className:h().input}),(0,s.jsx)("button",{className:h().button,onClick:function(e){!function(e,t,n){fetch(u.YZ+"/login",{method:"POST",headers:{"content-type":"application/json",authorization:"Basic Og=="},body:JSON.stringify({username:e,password:t})}).then((function(t){t.json().then((function(t){console.log(t),n(t.error_message||""),t.error||((0,a.d8)("username",e,100),(0,a.d8)("token",t.response.token,100),i.default.push("/todo"))}))})).catch((function(e){console.log(e)}))}(t,_,N)},children:"Sign In"}),(0,s.jsx)("div",{className:h().error,children:m})]})}},8195:function(e){e.exports={app:"Auth_app__FFTNq",header:"Auth_header__pjEQ9",subtitle:"Auth_subtitle__QTwAW",input:"Auth_input__Qcs2d",button:"Auth_button__F0IGF",error:"Auth_error__pRzdd"}}},function(e){e.O(0,[694,243,774,888,179],(function(){return t=4917,e(e.s=t);var t}));var t=e.O();_N_E=t}]);